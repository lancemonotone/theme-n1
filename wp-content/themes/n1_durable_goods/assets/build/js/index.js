!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";window.addEventListener("load",(function(){document.querySelectorAll(".accordion").forEach((t=>{new e(t)}))}));class e{constructor(e,t=!1){this.focus=t,this.container=e,this.toggle=e.querySelector(".toggle"),this.content=e.querySelector(".toggle-section"),this.button=e.querySelector(".toggle-label"),this.init()}findFirstFocusableElement(e){const t=e.querySelectorAll('a[href], button:not([disabled]), textarea:not([disabled]), input:not([type=submit]):not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])'),l=Array.from(t).filter((e=>e.offsetWidth>0&&e.offsetHeight>0));return l.length>0?l[0]:null}init(){this.toggle.addEventListener("change",(()=>{if(this.toggle.checked){if(this.toggle.setAttribute("aria-expanded","true"),this.focus){let e=this.findFirstFocusableElement(this.content);e&&e.focus()}}else this.toggle.setAttribute("aria-expanded","false"),this.button.focus()}))}}let t=new class{constructor(){this.resizeOperations=[],this.scrollHandler=this.throttle(this.handleScroll.bind(this),100)}resizeOnScroll(e,t,l,i,o,n="0.1s cubic-bezier(1, -0.02, 1, 1)"){let s=document.querySelector(e),r=parseFloat(l),a=parseFloat(i),c=i.replace(a.toString(),"");s&&(s.style.transition=`${t} ${n}`,s.style.willChange=t,this.resizeOperations.push({targetElement:s,propertyToResize:t,minSize:r,maxSize:a,unit:c,maxScroll:o,easing:n}),window.addEventListener("scroll",this.scrollHandler))}handleScroll(e){window.requestAnimationFrame((()=>{let e=window.scrollY||window.scrollTop||document.getElementsByTagName("html")[0].scrollTop;for(let t of this.resizeOperations){let l=this.calculateSize(e,t.minSize,t.maxSize,t.maxScroll);this.resize(l,t)}}))}throttle(e,t,l){let i,o,n,s=null,r=0,a=window.scrollY||window.scrollTop||document.getElementsByTagName("html")[0].scrollTop,c=function(){r=new Date,a=window.scrollY||window.scrollTop||document.getElementsByTagName("html")[0].scrollTop,s=null,n=e.apply(i,o),s||(i=o=null)};return function(){let u=new Date,d=window.scrollY||window.scrollTop||document.getElementsByTagName("html")[0].scrollTop,h=Math.abs(d-a);r||(r=u);let m=t+(l-t)*Math.exp(-h),g=m-(u-r);return i=this,o=arguments,g<=0||g>m?(s&&(clearTimeout(s),s=null),r=u,a=d,n=e.apply(i,o),s||(i=o=null)):s||(s=setTimeout(c,g)),n}}calculateSize(e,t,l,i){let o=l-(l-t)*Math.min(1,e/i);return Math.abs(o-t)<1?t:Math.abs(o-l)<5?l:o}resize(e,t){parseFloat(t.targetElement.style[t.propertyToResize])!==e&&(t.targetElement.style[t.propertyToResize]=`${e}${t.unit}`,e===t.minSize?t.targetElement.classList.add("height-at-minimum"):t.targetElement.classList.remove("height-at-minimum"))}};t.resizeOnScroll("#site-header","height","3.2rem","10rem",200,"0.1s ease-out 0s")}));
//# sourceMappingURL=index.js.map
